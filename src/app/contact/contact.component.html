<ng-container *ngIf="loaded; then loadedTemplate; else notLoadedTemplate"></ng-container>

<ng-template #loadedTemplate>
  <div class="content-fluid mt-2 animated slideInLeft">
    <div class="row justify-content-center">
      <div [hidden]="!submitted" class="col-11 col-md-10 bg-white" style="box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2), 0 4px 10px 0 rgba(0, 0, 0, 0.19);">
        <h1 class="my-4">{{ contactLangText["messageSubmited"] }}</h1>
      </div>
      <div [hidden]="submitted" class="col-11 col-md-10 bg-white" style="box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2), 0 4px 10px 0 rgba(0, 0, 0, 0.19);">
        <form (ngSubmit)="onSubmit()" #contactForm="ngForm" class="my-4">
          <div class="row">
            <div class="col-12 col-md-5 my-auto">
              <div class="form-group">
                <label for="name">{{ contactLangText["labelName"] }}</label>
                <input type="text" class="form-control" name="name" 
                  id="name" [(ngModel)]="model.name" #name="ngModel"
                  placeholder="{{ contactLangText['placeholderName'] }}" required>
                <div [hidden]="name.valid || name.untouched" class="alert alert-danger">
                  {{ contactLangText["errorName"] }}
                </div>
              </div>
              <div class="form-group">
                <label for="email">{{ contactLangText["labelEmail"] }}</label>
                <input type="email" class="form-control" name="email" #email="ngModel"
                id="email" [(ngModel)]="model.email" placeholder="{{ contactLangText['placeholderEmail'] }}" required
                pattern="[a-zA-Z0-9.-_]{1,}@[a-zA-Z.-]{2,}[.]{1}[a-zA-Z]{2,}">
                <div [hidden]="email.valid || email.untouched" class="alert alert-danger">
                  {{ contactLangText["errorEmail"] }}
                </div>
              </div>
            </div>
            <div class="col-12 col-md-7">
              <div class="form-group">
                <label for="content">{{ contactLangText["labelContent"] }}</label>
                <textarea class="form-control" id="content" name="content" 
                [(ngModel)]="model.content" placeholder="{{ contactLangText['placeholderContent'] }}" rows="5"></textarea>
              </div>
            </div>
          </div>
          <div class="row justify-content-center">
            <button type="submit" class="btn btn-primary col-8"
            [disabled]="!contactForm.form.valid">{{ contactLangText["buttonSubmit"] }}</button>
          </div>
        </form>
      </div>
    </div>
  </div> 
</ng-template>

<ng-template #notLoadedTemplate>
  <div class="content-fluid mt-2">
    <div class="row justify-content-center align-items-center">
      <div class="col-12">
        <div class="d-flex align-items-center justify-content-center fa-5x" style="height: 95vh">
          <i class="fas fa-circle-notch fa-spin"></i>
        </div>
      </div>
    </div>
  </div>
</ng-template>